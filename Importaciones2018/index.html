<!DOCTYPE html>
<meta charset="utf-8">

<svg width="2500" height="2000"></svg>

<link href="https://fonts.googleapis.com/css?family=Lato:100,300,300i,400" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="css/style.css">
<script type="text/javascript" src="https://d3js.org/d3.v5.min.js"></script> 
<script>
var nodes = [
  //{ id: "Afganistan", label: "Afganistan", level: 2 },
  { id: "Alemania"   , label: "Alemania"   , type: "País" , level: 2 },
  { id: "Antillas Holandesas"   , label: "Antillas Holandesas"   , type: "País"   , level: 2 },
  { id: "Argentina"   , label: "Argentina"   , type: "País"  , level: 2 },
  { id: "Australia"   , label: "Australia"   , type: "País"    , level: 2 },
  { id: "Austria", label: "Austria"   , type: "País", level: 2 },
  { id: "Belgica"   , label: "Belgica"   , type: "País"   , level: 2 },
  //{ id: "Bolivia"   , label: "Bolivia"   , level: 2 },
  { id: "Brasil"  , label: "Brasil"     , type: "País" , level: 2 },
  { id: "Canada"  , label: "Canada"   , type: "País"   , level: 2 },
  { id: "Chile"  , label: "Chile"   , type: "País"  , level: 2 },
  { id: "China", label: "China"   , type: "País", level: 2 },
  { id: "Colombia"   , label: "Colombia"   , type: "País"   , level: 2 },
  { id: "Corea"   , label: "Corea"    , type: "País"  , level: 2 },
  { id: "Costa de Marfil"   , label: "Costa de Marfil"   , type: "País"  , level: 2 },
  { id: "Costa Rica"   , label: "Costa Rica"    , type: "País"   , level: 2 },
  { id: "Dinamarca", label: "Dinamarca"   , type: "País", level: 2 },
  { id: "Ecuador"   , label: "Ecuador"    , type: "País" , level: 2 },
  { id: "El Salvador"   , label: "El Salvador"    , type: "País"  , level: 2 },
  { id: "España"  , label: "España"    , type: "País"  , level: 2 },
  { id: "Estados Unidos"  , label: "Estados Unidos"    , type: "País"  , level: 2 },
  { id: "Filipinas"  , label: "Filipinas"    , type: "País" , level: 2 },
  { id: "Finlandia", label: "Finlandia"   , type: "País", level: 2 },
  { id: "Francia"   , label: "Francia"   , type: "País"   , level: 2 },
  { id: "Ghana"   , label: "Ghana"    , type: "País"  , level: 2 },
  { id: "Guatemala"   , label: "Guatemala"   , type: "País"  , level: 2 },
  { id: "Hong Kong"   , label: "Hong Kong"    , type: "País"   , level: 2 },
  { id: "Hungria", label: "Hungria"   , type: "País", level: 2 },
  { id: "India"   , label: "India"    , type: "País"  , level: 2 },
  { id: "Indonesia"   , label: "Indonesia"   , type: "País"   , level: 2 },
  { id: "Irlanda"  , label: "Irlanda"   , type: "País"   , level: 2 },
  { id: "Israel"  , label: "Israel"   , type: "País"   , level: 2 },
  { id: "Italia"  , label: "Italia"   , type: "País"  , level: 2 },
  { id: "Japon", label: "Japon"   , type: "País", level: 2 },
  { id: "Libano"   , label: "Libano"    , type: "País"  , level: 2 },
  { id: "Malasia"   , label: "Malasia"   , type: "País"   , level: 2 },
  { id: "Mexico"   , label: "Mexico"   , type: "País"  , level: 2 },
  { id: "Nigeria"   , label: "Nigeria"   , type: "País"    , level: 2 },
  { id: "Paises Bajos", label: "Paises Bajos"   , type: "País", level: 2 },
  { id: "Pakistan"   , label: "Pakistan"   , type: "País"   , level: 2 },
  { id: "Panama"   , label: "Panama"   , type: "País"   , level: 2 },
  { id: "Peru"  , label: "Peru"    , type: "País"  , level: 2 },
  { id: "Polonia"  , label: "Polonia"    , type: "País"  , level: 2 },
  { id: "Portugal"  , label: "Portugal"    , type: "País" , level: 2 },
  { id: "Reino Unido", label: "Reino Unido"   , type: "País", level: 2 },
  { id: "Republica Checa"   , label: "Republica Checa"   , type: "País"   , level: 2 },
  { id: "Republica Dominicana"   , label: "Republica Dominicana"    , type: "País"  , level: 2 },
  { id: "Reunion"   , label: "Reunion"   , type: "País"  , level: 2 },
  { id: "Rumania"   , label: "Rumania"   , type: "País"    , level: 2 },
  { id: "Serbia"   , label: "Serbia"   , type: "País"   , level: 2 },
  { id: "Singapur"  , label: "Singapur"    , type: "País"  , level: 2 },
  { id: "Suecia"  , label: "Suecia"      , type: "País", level: 2 },
  { id: "Suiza"  , label: "Suiza"   , type: "País"  , level: 2 },
  { id: "Taiwan, Provincia China", label: "Taiwan, Provincia China",  type: "País" ,level: 2 },
  { id: "Tokelau"   , label: "Tokelau"   , type: "País"   , level: 2 },
  { id: "Trinidad y Tobago"   , label: "Trinidad y Tobago"   , type: "País"   , level: 2 },
  { id: "Turquia"   , label: "Turquia"   , type: "País"  , level: 2 },
  { id: "Uruguay"   , label: "Uruguay"   , type: "País"    , level: 2 },
  { id: "Venezuela"  , label: "Venezuela"  , level: 2 },
  { id: "Vietnam", label: "Vietnam"   , type: "País", level: 2 }, 
  { id: "Atlántico"  , label: "Atlántico"   , type: "Departamento de Colombia"  , level: 1 },
  { id: "Antioquia"   , label: "Antioquia"   , type: "Departamento de Colombia"    , level: 1 },
  { id: "Bogotá"   , label: "Bogotá"   , type: "Departamento de Colombia"   , level: 1 },
  { id: "Cundinamarca"  , label: "Cundinamarca"   , type: "Departamento de Colombia"    , level: 1 },
  { id: "Valle del Cauca"  , label: "Valle del Cauca"   , type: "Departamento de Colombia"    , level: 1 },
  { id: "Caldas"  , label: "Caldas"   , type: "Departamento de Colombia"   , level: 1 },
  { id: "Risaralda", label: "Risaralda"   , type: "Departamento de Colombia" , level: 1 },
  { id: "Nariño", label: "Nariño"   , type: "Departamento de Colombia" , level: 1 },
  //{ id: "Meta"   , label: "Meta"   , level: 1 },
  { id: "Cauca"   , label: "Cauca"   , type: "Departamento de Colombia"    , level: 1 },
  { id: "La Guajira"   , label: "La Guajira"   , type: "Departamento de Colombia"   , level: 1 },
  { id: "Bolivar"   , label: "Bolívar"   , type: "Departamento de Colombia"     , level: 1 },
  { id: "Córdoba", label: "Córdoba"   , type: "Departamento de Colombia" , level: 1 },
  //{ id: "Tolima"   , label: "Tolima"   , level: 1 },
  { id: "Magdalena"   , label: "Magdalena"   , type: "Departamento de Colombia"    , level: 1 },
  { id: "Santander"  , label: "Santander"   , type: "Departamento de Colombia"    , type: "Departamento de Colombia"    , level: 1 },
  //{ id: "Amazonas"  , label: "Amazonas"   , level: 1 },
  //{ id: "Putumayo"  , label: "Putumayo"  , level: 1 },
  { id: "San Andrés y Providencia", label: "San Andrés y Providencia"   , type: "Departamento de Colombia" , level: 1 },
  { id: "Huila"   , label: "Huila"   , type: "Departamento de Colombia"    , level: 1 },
  { id: "Norte de Santander"   , label: "Norte de Santander"   , type: "Departamento de Colombia"    , level: 1 },
  //{ id: "Cesar"   , label: "Cesar"  , level: 1 },
  { id: "Sucre"   , label: "Sucre"   , type: "Departamento de Colombia"     , level: 1 },
  { id: "Quindío"   , label: "Quindío"   , type: "Departamento de Colombia"    , level: 1 }
]
var links = [
  { target: "Antioquia", source: "Alemania" , strength: 0.85 },
  { target: "Atlántico", source: "Alemania" , strength: 0.85 },
  { target: "Bogotá", source: "Alemania" , strength: 0.85 },
   { target: "Caldas", source: "Alemania" , strength: 0.85 },
  { target: "Cundinamarca", source: "Alemania" , strength: 0.85 },
  { target: "Risaralda", source: "Alemania" , strength: 0.85 },
  { target: "Valle del Cauca", source: "Alemania" , strength: 0.85 },
  { target: "Valle del Cauca", source: "Antillas Holandesas" , strength: 0.85 },
  { target: "Antioquia", source: "Argentina" , strength: 0.85 },
  { target: "Bogotá", source: "Argentina" , strength: 0.85 },
  { target: "Caldas", source: "Argentina" , strength: 0.85 },
  { target: "Cundinamarca", source: "Argentina" , strength: 0.85 },
  { target: "Valle del Cauca", source: "Argentina" , strength: 0.85 },
    { target: "Bogotá", source: "Australia" , strength: 0.85 },
  { target: "Risaralda", source: "Austria" , strength: 0.85 },
  { target: "Bogotá", source: "Austria" , strength: 0.85 },
  { target: "Cundinamarca", source: "Austria" , strength: 0.85 },
  { target: "Atlántico", source: "Belgica" , strength: 0.85 },
  { target: "Bogotá", source: "Belgica" , strength: 0.85 },
  { target: "Cundinamarca", source: "Belgica" , strength: 0.85 },
  { target: "Valle del Cauca", source: "Belgica" , strength: 0.85 },
  { target: "Antioquia"  , source: "Brasil", strength: 0.85 },
  { target: "Atlántico"  , source: "Brasil", strength: 0.85 },
  { target: "Bogotá"  , source: "Brasil", strength: 0.85 },
  { target: "Bolivar"  , source: "Brasil", strength: 0.85 },
  { target: "Caldas"  , source: "Brasil", strength: 0.85 },
  { target: "Cauca"  , source: "Brasil", strength: 0.85 },
  { target: "Córdoba"  , source: "Brasil", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Brasil", strength: 0.85 },
  { target: "La Guajira"  , source: "Brasil", strength: 0.85 },
  { target: "Nariño"  , source: "Brasil", strength: 0.85 },
  { target: "Risaralda"  , source: "Brasil", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "Brasil", strength: 0.85 },
  { target: "Antioquia"  , source: "Canada", strength: 0.85 },
  { target: "Bogotá"  , source: "Canada", strength: 0.85 },
  { target: "Bolivar"  , source: "Canada", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Canada", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "Canada", strength: 0.85 },
  { target: "Cundinamarca", source: "Chile" , strength: 0.85 },
  { target: "Bogotá", source: "Chile" , strength: 0.85 },
  { target: "Risaralda", source: "Chile" , strength: 0.85 },
  { target: "Antioquia", source: "Chile" , strength: 0.85 },
  { target: "Valle del Cauca", source: "Chile" , strength: 0.85 },
  { target: "Antioquia", source: "China" , strength: 0.85 },
  { target: "Atlántico"  , source: "China", strength: 0.85 },
  { target: "Bogotá"  , source: "China", strength: 0.85 },
  { target: "Cundinamarca", source: "China" , strength: 0.85 },
  { target: "La Guajira"  , source: "China", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "China", strength: 0.85 },
  { target: "Santander"  , source: "China", strength: 0.85 },
  { target: "Antioquia"  , source: "Colombia", strength: 0.85 },
  { target: "Bogotá"  , source: "Colombia", strength: 0.85 },
  { target: "Caldas"  , source: "Colombia", strength: 0.85 },
  { target: "La Guajira"  , source: "Colombia", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "Colombia", strength: 0.85 },
  { target: "Bogotá"  , source: "Corea", strength: 0.85 },
  { target: "Bogotá"  , source: "Costa de Marfil", strength: 0.85 },
  { target: "Antioquia"  , source: "Costa de Marfil", strength: 0.85 },
  { target: "Bogotá"  , source: "Costa Rica", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Costa Rica", strength: 0.85 },
  { target: "Bogotá", source: "Dinamarca" , strength: 0.85 },
  { target: "Antioquia", source: "Ecuador" , strength: 0.85 },
  { target: "Atlántico", source: "Ecuador" , strength: 0.85 },
  { target: "Bogotá", source: "Ecuador" , strength: 0.85 },
  { target: "Caldas", source: "Ecuador" , strength: 0.85 },
  { target: "Córdoba", source: "Ecuador" , strength: 0.85 },
  { target: "Cundinamarca", source: "Ecuador" , strength: 0.85 },
  { target: "Nariño"  , source: "Ecuador", strength: 0.85 },
  { target: "Risaralda"  , source: "Ecuador", strength: 0.85 },
  { target: "Santander"  , source: "Ecuador", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "Ecuador", strength: 0.85 },
  { target: "Antioquia"  , source: "El Salvador", strength: 0.85 },
  { target: "Antioquia"  , source: "España", strength: 0.85 },
  { target: "Bogotá"  , source: "España", strength: 0.85 },
  { target: "Bolivar"  , source: "España", strength: 0.85 },
  { target: "Cauca", source: "España" , strength: 0.85 },
  { target: "Cundinamarca"  , source: "España", strength: 0.85 },
  { target: "Risaralda"  , source: "España", strength: 0.85 },
  { target: "Santander"  , source: "España", strength: 0.85 },
  { target: "Valle del Cauca", source: "España" , strength: 0.85 },
  { target: "Antioquia", source: "Estados Unidos" , strength: 0.85 },
  { target: "Atlántico", source: "Estados Unidos" , strength: 0.85 },
  { target: "Bogotá", source: "Estados Unidos" , strength: 0.85 },
  { target: "Bolivar", source: "Estados Unidos" , strength: 0.85 },
  { target: "Cundinamarca", source: "Estados Unidos" , strength: 0.85 },
  { target: "La Guajira"  , source: "Estados Unidos", strength: 0.85 },
  { target: "San Andrés y Providencia"  , source: "Estados Unidos", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "Estados Unidos", strength: 0.85 },
  { target: "Magdalena", source: "Estados Unidos" , strength: 0.85 },
  { target: "Risaralda", source: "Estados Unidos" , strength: 0.85 },
  { target: "Santander", source: "Estados Unidos" , strength: 0.85 },
  { target: "Valle del Cauca", source: "Estados Unidos" , strength: 0.85 },
  { target: "Bogotá"  , source: "Filipinas", strength: 0.85 },
  { target: "Bogotá"  , source: "Finlandia", strength: 0.85 },
  { target: "Antioquia"  , source: "Francia", strength: 0.85 },
  { target: "Atlántico"  , source: "Francia", strength: 0.85 },
  { target: "Bogotá"  , source: "Francia", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Francia", strength: 0.85 },
  { target: "Risaralda"  , source: "Francia", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "Francia", strength: 0.85 },
  { target: "Antioquia"  , source: "Ghana", strength: 0.85 },
  { target: "Antioquia"  , source: "Guatemala", strength: 0.85 },
  { target: "Antioquia"  , source: "Hong Kong", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Hong Kong", strength: 0.85 },
  { target: "Bogotá"  , source: "Hungria", strength: 0.85 },
  { target: "Bogotá"  , source: "India", strength: 0.85 },
  { target: "Bogotá"  , source: "Indonesia", strength: 0.85 },
  { target: "Antioquia", source: "Indonesia" , strength: 0.85 },
  { target: "Cundinamarca"  , source: "Indonesia", strength: 0.85 },
  { target: "Huila", source: "Indonesia" , strength: 0.85 },
  { target: "Bogotá"  , source: "Irlanda", strength: 0.85 },
  { target: "Bogotá"  , source: "Israel", strength: 0.85 },
  { target: "Antioquia"  , source: "Israel", strength: 0.85 },
  { target: "Antioquia", source: "Italia" , strength: 0.85 },
  { target: "Atlántico", source: "Italia" , strength: 0.85 },
  { target: "Bogotá", source: "Italia" , strength: 0.85 },
  { target: "Bolivar", source: "Italia" , strength: 0.85 },
  { target: "Caldas", source: "Italia" , strength: 0.85 },
  { target: "Cauca", source: "Italia" , strength: 0.85 },
  { target: "Cundinamarca", source: "Italia" , strength: 0.85 },
  { target: "Nariño", source: "Italia" , strength: 0.85 },
  { target: "Valle del Cauca", source: "Italia" , strength: 0.85 },
  { target: "Caldas", source: "Japon" , strength: 0.85 },
  { target: "Atlántico"  , source: "Libano", strength: 0.85 },
  { target: "Antioquia"  , source: "Malasia", strength: 0.85 },
  { target: "Bogotá"  , source: "Malasia", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Malasia", strength: 0.85 },
  { target: "Norte de Santander"  , source: "Malasia", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "Malasia", strength: 0.85 },
  { target: "Antioquia"  , source: "Mexico", strength: 0.85 },
  { target: "Atlántico"  , source: "Mexico", strength: 0.85 },
  { target: "Bogotá"  , source: "Mexico", strength: 0.85 },
  { target: "Cauca"  , source: "Mexico", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Mexico", strength: 0.85 },
  { target: "Risaralda"  , source: "Mexico", strength: 0.85 },
  { target: "Santander"  , source: "Mexico", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "Mexico", strength: 0.85 },
  { target: "Antioquia"  , source: "Nigeria", strength: 0.85 },
  { target: "Antioquia", source: "Paises Bajos" , strength: 0.85 },
  { target: "Bogotá", source: "Paises Bajos" , strength: 0.85 },
  { target: "Cauca", source: "Paises Bajos" , strength: 0.85 },
  { target: "Cundinamarca", source: "Paises Bajos" , strength: 0.85 },
  { target: "Valle del Cauca", source: "Paises Bajos" , strength: 0.85 },
  { target: "Antioquia", source: "Pakistan" , strength: 0.85 },
  { target: "Antioquia", source: "Panama" , strength: 0.85 },
  { target: "Valle del Cauca", source: "Panama" , strength: 0.85 },
  { target: "Antioquia"  , source: "Peru", strength: 0.85 },
  { target: "Atlántico"  , source: "Peru", strength: 0.85 },
  { target: "Bogotá"  , source: "Peru", strength: 0.85 },
  { target: "Caldas"  , source: "Peru", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Peru", strength: 0.85 },
  { target: "Nariño"  , source: "Peru", strength: 0.85 },
  { target: "Santander"  , source: "Peru", strength: 0.85 },
  { target: "Sucre"  , source: "Peru", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "Peru", strength: 0.85 },
  { target: "Bogotá"  , source: "Polonia", strength: 0.85 },
  { target: "Risaralda"  , source: "Polonia", strength: 0.85 },
  { target: "Atlántico"  , source: "Polonia", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Polonia", strength: 0.85 },
  { target: "Bogotá", source: "Portugal" , strength: 0.85 },
  { target: "Cundinamarca", source: "Portugal" , strength: 0.85 },
  { target: "Risaralda", source: "Reino Unido" , strength: 0.85 },
  { target: "Bogotá", source: "Reino Unido" , strength: 0.85 },
  { target: "Valle del Cauca", source: "Reino Unido" , strength: 0.85 },
  { target: "Cundinamarca", source: "Republica Checa" , strength: 0.85 },
  { target: "Bogotá", source: "Republica Checa" , strength: 0.85 },
  { target: "Antioquia"  , source: "Republica Dominicana", strength: 0.85 },
  { target: "Bogotá", source: "Reunion" , strength: 0.85 },
  { target: "Bogotá", source: "Rumania" , strength: 0.85 },
  { target: "Bogotá"  , source: "Serbia", strength: 0.85 },
  { target: "Valle del Cauca"  , source: "Singapur", strength: 0.85 },
  { target: "Bogotá"  , source: "Suecia", strength: 0.85 },
  { target: "Antioquia"  , source: "Tokelau", strength: 0.85 },
  { target: "Bogotá"  , source: "Trinidad y Tobago", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Trinidad y Tobago", strength: 0.85 },
  { target: "Bogotá"  , source: "Suiza", strength: 0.85 },
  { target: "Cundinamarca"  , source: "Suiza", strength: 0.85 },
  { target: "Atlántico"  , source: "Suiza", strength: 0.85 },
  { target: "Risaralda"  , source: "Suiza", strength: 0.85 },
  { target: "Bogotá"  , source: "Taiwan, Provincia China", strength: 0.85 },
  { target: "Antioquia"  , source: "Turquia", strength: 0.85 },
  { target: "Atlántico"  , source: "Turquia", strength: 0.85 },
  { target: "Bogotá", source: "Turquia" , strength: 0.85 },
  { target: "Bolivar", source: "Turquia" , strength: 0.85 },
  { target: "Cundinamarca", source: "Turquia" , strength: 0.85 },
  { target: "Quindío", source: "Turquia" , strength: 0.85 },
  { target: "Bogotá"  , source: "Uruguay", strength: 0.85 },
  { target: "Norte de Santander", source: "Venezuela" , strength: 0.85 },
  { target: "Risaralda", source: "Venezuela" , strength: 0.85 },
  { target: "Bogotá", source: "Venezuela" , strength: 0.85 },
  { target: "Cundinamarca", source: "Venezuela" , strength: 0.85 },
  { target: "Santander", source: "Venezuela" , strength: 0.85 },
  { target: "Antioquia", source: "Venezuela" , strength: 0.85 },
  { target: "Bogotá"  , source: "Vietnam", strength: 0.85 }
]
function getNeighbors(node) {
  return links.reduce(function (neighbors, link) {
      if (link.target.id === node.id) {
        neighbors.push(link.source.id)
      } else if (link.source.id === node.id) {
        neighbors.push(link.target.id)
      }
      return neighbors
    },
    [node.id]
  )
}
function isNeighborLink(node, link) {
  return link.target.id === node.id || link.source.id === node.id
}
function getNodeColor(node, neighbors) {
  if (Array.isArray(neighbors) && neighbors.indexOf(node.id) > -1) {
    return node.level === 1 ? 'blue' : 'green'
  }
  return node.level === 1 ? 'red' : 'gray'
}
function getLinkColor(node, link) {
  return isNeighborLink(node, link) ? 'green' : '#E5E5E5'
}
function getTextColor(node, neighbors) {
  return Array.isArray(neighbors) && neighbors.indexOf(node.id) > -1 ? 'green' : 'black'
}
var width = window.innerWidth
var height = window.innerHeight
var svg = d3.select('svg')
svg.attr('width', width).attr('height', height)
// simulation setup with all forces
var linkForce = d3
  .forceLink()
  .id(function (link) { return link.id })
  .strength(function (link) { return link.strength })
var simulation = d3
  .forceSimulation()
  .force('link', linkForce)
  .force('charge', d3.forceManyBody().strength(-500))
  .force('center', d3.forceCenter(width/2, height/2))
var dragDrop = d3.drag().on('start', function (node) {
  node.fx = node.x
  node.fy = node.y
}).on('drag', function (node) {
  simulation.alphaTarget(0.4).restart()
  node.fx = d3.event.x
  node.fy = d3.event.y
}).on('end', function (node) {
  if (!d3.event.active) {
    simulation.alphaTarget(0)
  }
  node.fx = null
  node.fy = null
})
function selectNode(selectedNode) {
  var neighbors = getNeighbors(selectedNode)
  // we modify the styles to highlight selected nodes
  nodeElements.attr('fill', function (node) { return getNodeColor(node, neighbors)})
  textElements.attr('fill', function (node) { return getTextColor(node, neighbors)})
  linkElements.attr('stroke', function (link) { return getLinkColor(selectedNode , link)})

}


var linkElements = svg.append("g")
  .attr("class", "links")
  .selectAll("line")
  .data(links)
  .enter().append("line")
    .attr("stroke-width", 1)
    .attr("stroke", "rgba(50, 50, 50, 0.2)")
var nodeElements = svg.append("g")
  .attr("class", "nodes")
  .selectAll("circle")
  .data(nodes)
  .enter().append("circle")
    .attr("r", 7)
    .attr("fill", getNodeColor)
    .call(dragDrop).on('mouseover',function(d){

      svg.append("title").html(function (d) {   

            return "Lugar           : "+d.label+ "<br>" +
                   "Tipo de Lugar   : "+d.type

           })
    }).on('click', selectNode)
    
var textElements = svg.append("g")
  .attr("class", "texts")
  .selectAll("text")
  .data(nodes)
  .enter().append("text")
    .text(function (node) { return  node.label })
    .attr("font-size", 10)
    .attr("dx", 15)
    .attr("dy", 4)
simulation.nodes(nodes).on('tick', () => {
  nodeElements
    .attr('cx', function (node) { return node.x })
    .attr('cy', function (node) { return node.y })
  textElements
    .attr('x', function (node) { return node.x })
    .attr('y', function (node) { return node.y })
  linkElements
    .attr('x1', function (link) { return link.source.x })
    .attr('y1', function (link) { return link.source.y })
    .attr('x2', function (link) { return link.target.x })
    .attr('y2', function (link) { return link.target.y })
})
simulation.force("link").links(links)
</script>